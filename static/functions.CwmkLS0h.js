const c=typeof Buffer=="function",p=typeof TextDecoder=="function"?new TextDecoder:void 0,m=typeof TextEncoder=="function"?new TextEncoder:void 0,w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u=Array.prototype.slice.call(w),d=(e=>{let t={};return e.forEach((o,r)=>t[o]=r),t})(u),C=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,n=String.fromCharCode.bind(String),h=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),v=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),y=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),_=e=>{let t,o,r,a,s="";const i=e.length%3;for(let l=0;l<e.length;){if((o=e.charCodeAt(l++))>255||(r=e.charCodeAt(l++))>255||(a=e.charCodeAt(l++))>255)throw new TypeError("invalid character found");t=o<<16|r<<8|a,s+=u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[t&63]}return i?s.slice(0,i-3)+"===".substring(i):s},A=typeof btoa=="function"?e=>btoa(e):c?e=>Buffer.from(e,"binary").toString("base64"):_,F=c?e=>Buffer.from(e).toString("base64"):e=>{let o=[];for(let r=0,a=e.length;r<a;r+=4096)o.push(n.apply(null,e.subarray(r,r+4096)));return A(o.join(""))},T=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?n(192|t>>>6)+n(128|t&63):n(224|t>>>12&15)+n(128|t>>>6&63)+n(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return n(240|t>>>18&7)+n(128|t>>>12&63)+n(128|t>>>6&63)+n(128|t&63)}},D=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,S=e=>e.replace(D,T),b=c?e=>Buffer.from(e,"utf8").toString("base64"):m?e=>F(m.encode(e)):e=>A(S(e)),B=(e,t=!1)=>t?v(b(e)):b(e),L=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,U=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),o=t-65536;return n((o>>>10)+55296)+n((o&1023)+56320);case 3:return n((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return n((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},E=e=>e.replace(L,U),$=e=>{if(e=e.replace(/\s+/g,""),!C.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let t,o="",r,a;for(let s=0;s<e.length;)t=d[e.charAt(s++)]<<18|d[e.charAt(s++)]<<12|(r=d[e.charAt(s++)])<<6|(a=d[e.charAt(s++)]),o+=r===64?n(t>>16&255):a===64?n(t>>16&255,t>>8&255):n(t>>16&255,t>>8&255,t&255);return o},g=typeof atob=="function"?e=>atob(y(e)):c?e=>Buffer.from(e,"base64").toString("binary"):$,K=c?e=>h(Buffer.from(e,"base64")):e=>h(g(e).split("").map(t=>t.charCodeAt(0))),P=c?e=>Buffer.from(e,"base64").toString("utf8"):p?e=>p.decode(K(e)):e=>E(g(e)),z=e=>y(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),M=e=>P(z(e)),f=e=>document.querySelector(e),Z=["1","2","3","4"],k=["html","css","javascript","preview"];function N(e,t){let o;return(...r)=>{clearTimeout(o),o=setTimeout(()=>e(...r),t)}}function j({htmlValue:e,cssValue:t,jsValue:o}){const a=new URL(window.location.href).searchParams;[["HTML",e],["CSS",t],["JavaScript",o]].forEach(([l,x])=>{x&&x.length>0&&a.set(l,B(x))});const i=`${window.location.pathname}?${a.toString()}`;window.history.replaceState(null,"",i)}function H(){const e=f(".modal-preview");e.innerHTML="";const t=f(".menu-tooltip");if(e.classList.contains("open")){e.classList.remove("open"),t?.classList.remove("menul-tooltip-open");return}e?.classList.add("open"),t?.classList.add("menul-tooltip-open");const o=f(".editor-preview")?.cloneNode(!0);o&&e?.appendChild(o)}function I(){window.addEventListener("keydown",e=>{const{ctrlKey:t,metaKey:o,altKey:r,key:a}=e;if((t||o)&&a.toLowerCase()==="p"&&(e.preventDefault(),H()),a=="Escape"){const s=f(".modal-preview");if(s?.classList.contains("open")){const i=f(".menu-tooltip");s.classList.remove("open"),i?.classList.remove("menul-tooltip-open");return}}if((r||t)&&Z.includes(a)){e.preventDefault();const s=Number(a),i=k[s-1];f(`.editor-${i}`)?.scrollIntoView({behavior:"smooth"})}})}export{f as $,N as a,I as b,H as c,M as d,j as u};
