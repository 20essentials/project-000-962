const d=typeof Buffer=="function";typeof TextDecoder=="function"&&new TextDecoder;const p=typeof TextEncoder=="function"?new TextEncoder:void 0,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=Array.prototype.slice.call(y);(e=>{let t={};return e.forEach((o,n)=>t[o]=n),t})(f);const s=String.fromCharCode.bind(String);typeof Uint8Array.from=="function"&&Uint8Array.from.bind(Uint8Array);const h=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),w=e=>{let t,o,n,r,a="";const i=e.length%3;for(let c=0;c<e.length;){if((o=e.charCodeAt(c++))>255||(n=e.charCodeAt(c++))>255||(r=e.charCodeAt(c++))>255)throw new TypeError("invalid character found");t=o<<16|n<<8|r,a+=f[t>>18&63]+f[t>>12&63]+f[t>>6&63]+f[t&63]}return i?a.slice(0,i-3)+"===".substring(i):a},x=typeof btoa=="function"?e=>btoa(e):d?e=>Buffer.from(e,"binary").toString("base64"):w,g=d?e=>Buffer.from(e).toString("base64"):e=>{let o=[];for(let n=0,r=e.length;n<r;n+=4096)o.push(s.apply(null,e.subarray(n,n+4096)));return x(o.join(""))},v=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?s(192|t>>>6)+s(128|t&63):s(224|t>>>12&15)+s(128|t>>>6&63)+s(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return s(240|t>>>18&7)+s(128|t>>>12&63)+s(128|t>>>6&63)+s(128|t&63)}},b=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,C=e=>e.replace(b,v),m=d?e=>Buffer.from(e,"utf8").toString("base64"):p?e=>g(p.encode(e)):e=>x(C(e)),T=(e,t=!1)=>t?h(m(e)):m(e),l=e=>document.querySelector(e),A=["1","2","3","4"],L=["html","css","javascript","preview"];function D(e,t){let o;return(...n)=>{clearTimeout(o),o=setTimeout(()=>e(...n),t)}}function $({htmlValue:e,cssValue:t,jsValue:o}){const r=new URL(window.location.href).searchParams;[["HTML",e],["CSS",t],["JavaScript",o]].forEach(([c,u])=>{u&&u.length>0&&r.set(c,T(u))});const i=`${window.location.pathname}?${r.toString()}`;window.history.replaceState(null,"",i)}function S(){const e=l(".modal-preview");e.innerHTML="";const t=l(".menu-tooltip");if(e.classList.contains("open")){e.classList.remove("open"),t?.classList.remove("menul-tooltip-open");return}e?.classList.add("open"),t?.classList.add("menul-tooltip-open");const o=l(".editor-preview")?.cloneNode(!0);o&&e?.appendChild(o)}function U(){window.addEventListener("keydown",e=>{const{ctrlKey:t,metaKey:o,altKey:n,key:r}=e;if((t||o)&&r.toLowerCase()==="p"&&(e.preventDefault(),S()),r=="Escape"){const a=l(".modal-preview");if(a?.classList.contains("open")){const i=l(".menu-tooltip");a.classList.remove("open"),i?.classList.remove("menul-tooltip-open");return}}if((n||t)&&A.includes(r)){e.preventDefault();const a=Number(r),i=L[a-1];l(`.editor-${i}`)?.scrollIntoView({behavior:"smooth"})}})}export{l as $,U as a,S as c,D as d,$ as u};
